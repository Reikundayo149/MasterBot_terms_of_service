document.addEventListener('DOMContentLoaded',()=>{const y=document.querySelector('[data-year]');if(y)y.textContent=new Date().getFullYear();const b=document.querySelector('[data-agree]');const s=document.querySelector('[data-agree-status]');if(b){const k='masterbot_terms_agreed';const a=localStorage.getItem(k)==='true';if(s)s.textContent=a?'同意済み':'未同意';if(a)b.classList.add('primary');b.addEventListener('click',()=>{localStorage.setItem(k,'true');if(s)s.textContent='同意済み';b.textContent='同意済み ✔';});}});